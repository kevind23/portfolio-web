(function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t,e){function a(t){function e(){i?(a(),R(e),n=!0,i=!1):n=!1}var a=t,i=!1,n=!1;this.kick=function(){i=!0,n||e()},this.end=function(t){var e=a;t&&(n?(a=i?function(){e(),t()}:t,i=!0):t())}}function i(){return!0}function n(){return!1}function o(t){t.preventDefault()}function s(t){j[t.target.tagName.toLowerCase()]||t.preventDefault()}function r(t){return 1===t.which&&!t.ctrlKey&&!t.altKey}function c(t,e){var a,i;if(t.identifiedTouch)return t.identifiedTouch(e);for(a=-1,i=t.length;i>++a;)if(t[a].identifier===e)return t[a]}function d(t,e){var a=c(t.changedTouches,e.identifier);if(a&&(a.pageX!==e.pageX||a.pageY!==e.pageY))return a}function u(t){var e;r(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},z(document,I.move,h,e),z(document,I.cancel,m,e))}function h(t){var e=t.data;w(t,e,t,f)}function m(){f()}function f(){F(document,I.move,h),F(document,I.cancel,m)}function g(t){var e,a;j[t.target.tagName.toLowerCase()]||(e=t.changedTouches[0],a={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},z(document,L.move+"."+e.identifier,v,a),z(document,L.cancel+"."+e.identifier,p,a))}function v(t){var e=t.data,a=d(t,e);a&&w(t,e,a,l)}function p(t){var e=t.data,a=c(t.changedTouches,e.identifier);a&&l(e.identifier)}function l(t){F(document,"."+t,v),F(document,"."+t,p)}function w(t,e,a,i){var n=a.pageX-e.startX,o=a.pageY-e.startY;_*_>n*n+o*o||Y(t,e,a,n,o,i)}function y(){return this._handled=i,!1}function X(t){t._handled()}function Y(t,e,a,i,n,o){var s,r;e.target,s=t.targetTouches,r=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=i,e.distY=n,e.deltaX=i,e.deltaY=n,e.pageX=a.pageX,e.pageY=a.pageY,e.velocityX=i/r,e.velocityY=n/r,e.targetTouches=s,e.finger=s?s.length:1,e._handled=y,e._preventTouchmoveDefault=function(){t.preventDefault()},N(e.target,e),o(e.identifier)}function P(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function T(t){var e=t.data.event,a=t.data.timer;S(),q(e,a,function(){setTimeout(function(){F(e.target,"click",n)},0)})}function S(){F(document,I.move,P),F(document,I.end,T)}function x(t){var e=t.data.event,a=t.data.timer,i=d(t,e);i&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=i,t.data.timeStamp=t.timeStamp,a.kick())}function k(t){var e=t.data.event,a=t.data.timer,i=c(t.changedTouches,e.identifier);i&&(C(e),q(e,a))}function C(t){F(document,"."+t.identifier,x),F(document,"."+t.identifier,k)}function b(t,e,a){var i=a-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/i,t.velocityY=.3*t.velocityY+.7*t.deltaY/i,t.pageX=e.pageX,t.pageY=e.pageY}function q(t,e,a){e.end(function(){return t.type="moveend",N(t.target,t),a&&a()})}function $(){return z(this,"movestart.move",X),!0}function D(){return F(this,"dragstart drag",o),F(this,"mousedown touchstart",s),F(this,"movestart",X),!0}function A(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(z(this,"dragstart."+t.guid+" drag."+t.guid,o,e,t.selector),z(this,"mousedown."+t.guid,s,e,t.selector))}function B(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(F(this,"dragstart."+t.guid+" drag."+t.guid),F(this,"mousedown."+t.guid))}var _=6,z=t.event.add,F=t.event.remove,N=function(e,a,i){t.event.trigger(a,i,e)},R=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(function(){t()},25)}}(),j={textarea:!0,input:!0,select:!0,button:!0},I={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},L={move:"touchmove",cancel:"touchend",end:"touchend"};t.event.special.movestart={setup:$,teardown:D,add:A,remove:B,_default:function(t){function i(){b(o,s.touch,s.timeStamp),N(t.target,o)}var o,s;t._handled()&&(o={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},s={event:o,timer:new a(i),touch:e,timeStamp:e},t.identifier===e?(z(t.target,"click",n),z(document,I.move,P,s),z(document,I.end,T,s)):(t._preventTouchmoveDefault(),z(document,L.move+"."+t.identifier,x,s),z(document,L.end+"."+t.identifier,k,s)))}},t.event.special.move={setup:function(){z(this,"movestart.move",t.noop)},teardown:function(){F(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){z(this,"movestart.moveend",t.noop)},teardown:function(){F(this,"movestart.moveend",t.noop)}},z(document,"mousedown.move",u),z(document,"touchstart.move",g),"function"==typeof Array.prototype.indexOf&&function(t){for(var e=["changedTouches","targetTouches"],a=e.length;a--;)-1===t.event.props.indexOf(e[a])&&t.event.props.push(e[a])}(t)}),function(t,e,a,i){function n(){this.pages={},this.sequence=[],this.state={index:-1,path:null,lastPath:null,animate:null},this.assemblePages(a("[data-path]")),t.location.pathname.match(/[^\/]/)?this.setPageByPathName(t.location.pathname):(a('[data-path="/"]').addClass("page-active"),this.setPageByPathName("/")),t.onpopstate=this.onPopState.bind(this);var e=this;t.onresize=function(){e.resizeTimeout||(e.resizeTimeout=t.setTimeout(e.recalculate.bind(e),150))}}function o(e,a){var n;return a=a||200,function(){(null===n||n===i)&&t.setTimeout(function(){e(),n=null},a)}}function s(){var t=a(this);"none"!==t.css("display")&&t.attr("src",t.attr("data-src")).removeAttr("data-src")}var r={right:0,left:-1},c={0:"right","-1":"left"};n.prototype={setPageByPathName:function(i,n){return this.pages[i]?(n=n||(this.pages[i].idx>this.state.index?"right":"left"),this.state.animate^r[n]&&this.state.lastPath===i&&t.history&&t.history.replaceState?(this.animationDirection=n,t.history.back(),!0):(this.state={index:this.pages[i].idx,path:i,lastPath:this.state.path,animate:r[n]},t.history&&t.history.pushState&&t.history.pushState(this.state,null,i),this.activatePage(this.pages[i].$set,n),a(e.body).attr("data-active-page",this.state.path),!0)):!1},onPopState:function(e){this.state=e.state,t.history.replaceState(this.state,null,this.state.path);var a=null===e.state.lastPath?this.animationDirection:c[~this.state.animate];this.activatePage(this.pages[this.state.path].$set,a)},setPageByIndex:function(t,e){return t>=0&&this.sequence.length>t?this.setPageByPathName(this.sequence[t],e):!1},nextPage:function(){return this.setPageByIndex(this.state.index+1<this.sequence.length?this.state.index+1:0,"right")},prevPage:function(){return this.setPageByIndex(this.state.index-1>=0?this.state.index-1:this.sequence.length-1,"left")},assemblePages:function(t){var e=0,i=this;t.each(function(){var n=a(this).attr("data-path");i.pages[n]||(i.sequence[e]=n,i.pages[n]={$set:t.filter('[data-path="'+n+'"]'),idx:e},e++)})},activatePage:function(e,i){var n="left"==i?"right":"left";this.$active&&this.$active.removeClass("animate").removeClass("hidden-left hidden-right").addClass("animate hidden-"+n).removeClass("page-active"),this.$active=e,this.$active.show().removeClass("animate").removeClass("hidden-left hidden-right").addClass("hidden-"+i);var o=this.$active;t.setTimeout(function(){o.addClass("animate page-active")},10),t.setTimeout(function(){a(".hidden-left, .hidden-right").filter(":not(.page-active)").hide().removeClass("animate hidden-left hidden-right")},425),this.recalculate(),"function"==typeof t.ga&&ga("send","event","Showcase","view",this.state.path)},recalculate:function(){delete this.resizeTimeout,a(".footer").css("transform","translateY("+this.$active.height()+"px)"),a(".page").css("padding-bottom",this.$active.height())}},t.showcase=new n;var d=t.showcase.prevPage.bind(t.showcase),u=t.showcase.nextPage.bind(t.showcase);a(".left-arrow").on("click",d),a(".right-arrow").on("click",u),a(e).on("movestart",function(t){t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY?t.preventDefault():t.distX>10?d():-10>t.distX&&u()}),a(e).keydown(function(e){var a=null!==e.which?e.which:null!==e.charCode?e.charCode:e.keyCode;switch(a){case 39:t.showcase.nextPage();break;case 37:t.showcase.prevPage()}}),a(t).on("load",function(){t.showcase.$active.find("img[data-src]").each(s),a("img[data-src]").each(s)}).on("resize",o(function(){a("img[data-src]").each(s)})),a(e).on("ready",function(){t.innerWidth>640&&a(".left-arrow, .right-arrow").addClass("hover").delay(1800).animate({opacity:0},900,"linear",function(){a(this).removeClass("hover")})}),console.log("Looking for the source of this page?\nFind it on GitHub here -> https://github.com/kevind23/portfolio-web")}(window,document,jQuery);